{% extends 'base.html.twig' %}

{% block title %}Panier
{% endblock %}

{% block body %}
	<h1>Panier</h1>

	{% if cart|length >0 %}
		<table>
			<thead>
				<tr>
					<th>Produit</th>
					<th>Prix</th>
					<th>Quantité</th>
					<th>Total</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for productId, item in cart %}
					<tr>
						<td>{{ item.productName }}</td>
						<td>{{ item.price }}</td>
						<td>{{ item.quantity }}</td>
						<td>{{ item.price * item.quantity }}</td>
						<td>
							{# <form action="{{ path('app_cart_update', {productId: productId}) }}" method="post">
								<input type="number" name="quantity" value="{{ item.quantity }}" min="1">
								<button type="submit">Mettre à jour</button>
							</form> #}
							<a href="{{ path('app_cart_remove', {productId: productId}) }}" data-bs-toggle="tooltip" title="remove">Supprimer</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<a href="{{ path('app_cart_clear') }}">Vider le panier</a>
	{% else %}
		<p>Votre panier est vide</p>
	{% endif %}

{% endblock %}
